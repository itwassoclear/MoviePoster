(this["webpackJsonpreact-workshop"]=this["webpackJsonpreact-workshop"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),s=a(1),i=a.n(s),o=a(3),u=a(5),m=(a(14),a(2)),p=a.n(m),d=a(4),f=new function e(){Object(d.a)(this,e),this.BASE_URI="https://lab.lectrum.io/afisha/api"},g=new function e(){Object(d.a)(this,e),this.getMovies=Object(o.a)(i.a.mark((function e(){var t,a,n,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"upcoming",e.next=3,fetch("".concat(f.BASE_URI,"/movies?filter=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))},v=function(){var e=Object(n.useState)("upcoming"),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(u.a)(l,2),m=s[0],d=s[1],f=function(e){var t=e.currentTarget.dataset.name;c(t)},v=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getMovies(t);case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v(a)}),[a]);var E,h=(E={selectedFilter:a},{latestFilter:p()("filter",{selectedFilter:"latest"===E.selectedFilter}),upcomingFilter:p()("filter",{selectedFilter:"upcoming"===E.selectedFilter}),popularFilter:p()("filter",{selectedFilter:"popular"===E.selectedFilter}),sortButton:p()({desc:"desc"===E.sortCriteria})}),F=m.map((function(e,t){return r.a.createElement("div",{className:"movie",key:t},r.a.createElement("div",{className:"poster"},r.a.createElement("span",{className:"genre"},e.genre),r.a.createElement("img",{alt:e.title,src:e.poster}),r.a.createElement("span",{className:"raiting"},e.raiting)),r.a.createElement("span",{className:"title"},e.title))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"logo"}),r.a.createElement("div",{className:"filters"},r.a.createElement("div",{className:h.latestFilter,"data-name":"latest","data-lang":"eng",onClick:f},r.a.createElement("span",null,"\u041d\u043e\u0432\u0438\u043d\u043a\u0438 ",(new Date).getFullYear())),r.a.createElement("div",{className:h.upcomingFilter,"data-name":"upcoming","data-lang":"eng",onClick:f},r.a.createElement("span",null,"\u0421\u043a\u043e\u0440\u043e \u0432 \u043a\u0438\u043d\u043e\u0442\u0435\u0430\u0442\u0440\u0430\u0445")),r.a.createElement("div",{className:h.popularFilter,"data-name":"popular","data-lang":"eng",onClick:f},r.a.createElement("span",null,"\u0412 \u0442\u043e\u043f-\u0447\u0430\u0440\u0442\u0430\u0445")))),r.a.createElement("div",{className:"content"},F))};l.a.render(r.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.d504c338.chunk.js.map